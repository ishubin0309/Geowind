{% if close is not defined %}
    {% set close = true %}
{% endif %}

{% if app.session.flashbag.peekAll() is not empty %}
  {% set not_empty = true %}
{% else %}
  {% set not_empty = false %}
{% endif %}

{% for flashMessage in app.session.flashbag.get('warning') %}
    <div class="alert alert-warning{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('alert') %}
    <div class="alert alert-warning{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('danger') %}
    <div class="alert alert-danger{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('error') %}
    <div class="alert alert-danger{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('info') %}
    <div class="alert alert-info{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('success') %}
    <div class="alert alert-success{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

{% for flashMessage in app.session.flashbag.get('notice') %}
    <div class="alert alert-success{% if close %} alert-dismissible{% endif %}">
        {% if close %}<button type="button" class="close" data-dismiss="alert">&times;</button>{% endif %}
        {{ flashMessage|nl2br }}
    </div>
{% endfor %}

